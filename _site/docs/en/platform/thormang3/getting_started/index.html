<!DOCTYPE html>
<!--
  Minimal Mistakes Jekyll Theme 4.4.1 by Michael Rose
  Copyright 2017 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
--><html lang="en" class="no-js">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">

<!-- begin SEO -->









<title>ROBOTIS e-Manual</title>




<meta name="description" content="e-Manual wiki">




<meta name="author" content="Your Name">

<meta property="og:locale" content="en">
<meta property="og:site_name" content="ROBOTIS e-Manual">
<meta property="og:title" content="ROBOTIS e-Manual">


  <link rel="canonical" href="https://robotis-git.github.io/emanual/docs/en/platform/thormang3/getting_started/">
  <meta property="og:url" content="https://robotis-git.github.io/emanual/docs/en/platform/thormang3/getting_started/">







  

  












  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "ROBOTIS",
      "url" : "https://robotis-git.github.io/emanual",
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="https://robotis-git.github.io/emanual/feed.xml" type="application/atom+xml" rel="alternate" title="ROBOTIS e-Manual Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="https://robotis-git.github.io/emanual/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->

<meta http-equiv="cleartype" content="on">

    <!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->
  </head>

  <body class="layout--archive">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="https://robotis-git.github.io/emanual/"><img src="/emanual/assets/images/robotis_logo.gif" style="padding-right:10px;">e-Manual</a>
        
        
          <a href="https://robotis-git.github.io/emanual/docs/en/platform/thormang3/getting_started/" class="en" style="color: #134268;padding-right:10px;">[en]</a>
        
          <a href="https://robotis-git.github.io/emanual/docs/kr/platform/thormang3/getting_started/" class="kr" style="color: #134268;padding-right:10px;">[kr]</a>
        

        <form method="get" id="site_search" style="margin:0 0 0 0; position:absolute; right:0; width:30%;">
          <input type="text" id="search_box" name="query" placeholder="Search" style="padding:0 10px; margin-bottom:0;">
        </form>
      </nav>
    </div>

    <div class="container">
      
    </div>
    <div>
      <ul id="search_results"></ul>
    </div>

  </div>
</div>

<script src="/emanual/assets/js/lunr.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="/emanual/assets/js/search.js"></script>


    



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
    
      
      
      
    
    
      

<nav class="nav__list">

  <a href="https://robotis-git.github.io/emanual/docs/en/platform/thormang3/getting_started/" style="font-size:$type-size-6; color: #2174b6;">THORMANG3</a>
  <ul class="nav__items">
  
  </ul>
</nav>

    
  
  </div>


  <div class="archive">
    <a href="/blob/master/docs/en/platform/thormang3/getting_started.md" itemprop="sameAs" style="font-size:16px;float:right;">
      <i class="fa fa-fw fa-github" aria-hidden="true"></i> Edit on GitHub
    </a>
    <p><img src="/emanual/assets/images/platform/thormang3/thormang3.png" alt=""></p>

<h1 id="getting-started"><a href="#getting-started">Getting Started</a></h1>

<h2 id="os-install"><a href="#os-install">OS Install</a></h2>

<p>Ubuntu 16.04 LTS is installed on PCs in the THORMANG3 and the PC for Remote Control Version.</p>

<p class="notice"><code class="highlighter-rouge">Note</code> <a href="http://www.ubuntu.com/download/desktop/install-ubuntu-desktop">Install Ubuntu Desktop</a></p>

<h2 id="network-setting"><a href="#network-setting">Network Setting</a></h2>

<p>This section explains how to configure the network for MPC(Motion PC) and PPC(Perception PC) of the robot, as well as the Wi-Fi switch and the OPC(Operating PC).</p>

<p><img src="/emanual/assets/images/platform/thormang3/THORMANG3_network_map.png" alt=""></p>

<h3 id="access-point-setting"><a href="#access-point-setting">Access Point Setting</a></h3>

<h4 id="access-pointap-information">Access Point(AP) Information</h4>

<ul>
  <li>Model : D-Link DIR-806A</li>
  <li>Account
    <ul>
      <li>user : admin</li>
      <li>password : admin</li>
    </ul>
  </li>
</ul>

<p class="notice"><code class="highlighter-rouge">Note</code> <a href="ftp://ftp.dlink.ru/pub/Router/DIR-806A/Data_sh/">DIR-806A Product Manual</a></p>

<h4 id="ap-server">AP Server</h4>

<ul>
  <li>Router Mode(Orange light)</li>
  <li>IP Address : 10.17.3.1</li>
  <li>WiFi Name (2.4G) : THORMANG-Sxx (xx : number)</li>
  <li>WiFi Name (5G) : THORMANG-Sxx-5G (xx : number)</li>
  <li>WiFi Password : 11111111</li>
</ul>

<h4 id="ap-in-thormang3">AP in THORMANG3</h4>
<ul>
  <li>Repeater Mode(Green light)</li>
</ul>

<h3 id="pc-setting"><a href="#pc-setting">PC Setting</a></h3>

<h4 id="mpc-motion-pc">MPC (Motion PC)</h4>
<ul>
  <li>IP Address : 10.17.3.30</li>
  <li>Netmask : 255.255.255.0</li>
  <li>Gateway : 10.17.3.1</li>
</ul>

<h4 id="ppc-perception-pc">PPC (Perception PC)</h4>
<ul>
  <li>IP Address : 10.17.3.35</li>
  <li>Netmask : 255.255.255.0</li>
  <li>Gateway : 10.17.3.1</li>
</ul>

<h4 id="opc-operating-pc">OPC (Operating PC)</h4>
<ul>
  <li>IP Address : 10.17.3.100</li>
  <li>Netmask : 255.255.255.0</li>
  <li>Gateway : 10.17.3.1</li>
</ul>

<h2 id="ros-install"><a href="#ros-install">ROS Install</a></h2>

<p>ROS(Robot Operating System) is required in order to control THORMANG3. Currently THORMANG3 is developed and tested with Kinetic Kame version of ROS.</p>

<p class="notice"><code class="highlighter-rouge">Note</code> <a href="http://wiki.ros.org/kinetic/Installation/Ubuntu">Install ROS</a></p>

<h2 id="ros-environment-setting"><a href="#ros-environment-setting">ROS Environment Setting</a></h2>

<p class="notice"><code class="highlighter-rouge">Note</code> <a href="http://wiki.ros.org/ROS/Tutorials/InstallingandConfiguringROSEnvironment">Environment Setting Reference</a></p>

<p class="notice"><code class="highlighter-rouge">Note</code> <a href="http://wiki.ros.org/ROS/NetworkSetup">ROS Network Setup Reference</a></p>

<h3 id="network-setting-example"><a href="#network-setting-example">Network Setting Example</a></h3>

<p>Above configuration has to be repeatedly done whenever a new terminal window is created. The following method will load configuration file when creating a terminal window. ROS Network setup is also performed when the configuration file is loaded.</p>

<h4 id="system-configuration">System configuration</h4>

<ul>
  <li>PPC(Perception PC) : core PC
    <ul>
      <li>IP : 10.17.3.35</li>
    </ul>
  </li>
  <li>MPC(Motion PC)
    <ul>
      <li>IP : 10.17.3.30</li>
    </ul>
  </li>
  <li>OPC(Operation PC)
    <ul>
      <li>IP : 10.17.3.100</li>
    </ul>
  </li>
</ul>

<h4 id="example-setting-for-ppc">Example setting for PPC</h4>

<ol>
  <li>Open the bash file with an editor to apply configuration.
    <div class="highlighter-rouge">
<pre class="highlight"><code> $ gedit ~/.bashrc
</code></pre>
    </div>
  </li>
  <li>Append below contents at the end of the .bashrc file.
    <div class="highlighter-rouge">
<pre class="highlight"><code> # Set ROS Kinetic
 source /opt/ros/kinetic/setup.bash
 source ~/catkin_ws/devel/setup.bash

 ##### Set ROS Network ####
 # PPC CORE(10.17.3.35)
 export ROS_MASTER_URI=http://10.17.3.35:11311

 # local ROS IP
 export ROS_IP=10.17.3.35
</code></pre>
    </div>
  </li>
  <li>Use below command to apply modified configuration or open a new terminal window.
    <div class="highlighter-rouge">
<pre class="highlight"><code> $ source ~/.bashrc
</code></pre>
    </div>
  </li>
</ol>

<h4 id="example-setting-for-mpc">Example setting for MPC</h4>

<ol>
  <li>Open the bash file with an editor to apply configuration.
    <div class="highlighter-rouge">
<pre class="highlight"><code> $ gedit ~/.bashrc
</code></pre>
    </div>
  </li>
  <li>Append below contents at the end of the .bashrc file.
    <div class="highlighter-rouge">
<pre class="highlight"><code> # Set ROS Kinetic
 source /opt/ros/kinetic/setup.bash
 source ~/catkin_ws/devel/setup.bash

 ##### Set ROS Network ####
 # PPC CORE(10.17.3.35)
 export ROS_MASTER_URI=http://10.17.3.35:11311

 # local ROS IP
 export ROS_IP=10.17.3.30
</code></pre>
    </div>
  </li>
  <li>Use below command to apply modified configuration or open a new terminal window.
    <div class="highlighter-rouge">
<pre class="highlight"><code> $ source ~/.bashrc
</code></pre>
    </div>
  </li>
</ol>

<h4 id="example-setting-for-opc">Example setting for OPC</h4>

<ol>
  <li>Open the bash file with an editor to apply configuration.
    <div class="highlighter-rouge">
<pre class="highlight"><code> $ gedit ~/.bashrc
</code></pre>
    </div>
  </li>
  <li>Append below contents at the end of the .bashrc file.
    <div class="highlighter-rouge">
<pre class="highlight"><code> # Set ROS Kinetic
 source /opt/ros/kinetic/setup.bash
 source ~/catkin_ws/devel/setup.bash

 ##### Set ROS Network ####
 # PPC CORE(10.17.3.35)
 export ROS_MASTER_URI=http://10.17.3.35:11311

 # local ROS IP
 export ROS_IP=10.17.3.100
</code></pre>
    </div>
  </li>
  <li>Use below command to apply modified configuration or open a new terminal window.
    <div class="highlighter-rouge">
<pre class="highlight"><code> $ source ~/.bashrc
</code></pre>
    </div>
  </li>
</ol>

<h3 id="time-synchronization"><a href="#time-synchronization">Time Synchronization</a></h3>

<p>In order to run the ROS on multiple PCs, each PC clock has to be synchronized. The following script file comes in handy for this synchronization procedure. PPC time becomes the reference for synchronization, and perform below procedures only for MPC and OPC.</p>

<ol>
  <li>Create the script file with an editor.
    <div class="highlighter-rouge">
<pre class="highlight"><code> $ gedit ~/timesync
</code></pre>
    </div>
  </li>
  <li>Copy and paste below contents to the script file
    <div class="highlighter-rouge">
<pre class="highlight"><code> <span class="c">#! /bin/sh</span>
 sudo date --set<span class="o">=</span><span class="s1">'-2 secs'</span>
 sudo ntpdate 10.17.3.35
 sudo hwclock -w
 PPC<span class="o">(</span>10.17.3.35<span class="o">)</span>
</code></pre>
    </div>
  </li>
  <li>Modify the script file permission(Add execute permission)
    <div class="highlighter-rouge">
<pre class="highlight"><code> $ sudo chmod +x timesync
</code></pre>
    </div>
  </li>
  <li>Run the script file to sync time for PPC, MPC and OPC.
    <div class="highlighter-rouge">
<pre class="highlight"><code> $ ~/timesync
</code></pre>
    </div>
  </li>
</ol>

<ul>
  <li>If NTP socket is running, Stop the ntp service and sync time.
    <div class="highlighter-rouge">
<pre class="highlight"><code>  $ sudo service ntp stop
  $ ~/timesync
</code></pre>
    </div>
  </li>
</ul>

<h2 id="robotis-ros-package-install"><a href="#robotis-ros-package-install">ROBOTIS ROS Package Install</a></h2>

<p>This section introduces how to install the ROBOTIS ROS Package for THORMANG3.</p>

<ul>
  <li>ROBOTIS-Framework : DXL SDK based Framework for ROBOTIS platforms</li>
  <li>ROBOTIS-Framework-msgs : ROS Messages used in the ROBOTIS-Framework</li>
  <li>ROBOTIS-THORMANG-MPC : ROS Packages for the Motion PC of THORMANG3</li>
  <li>ROBOTIS-THORMANG-PPC : ROS Packages for the Perception PC of THORMANG3</li>
  <li>ROBOTIS-THORMANG-OPC : ROS Packages for the Operating PC of THORMANG3</li>
  <li>ROBOTIS-THORMANG-Common : Common ROS Packages for THORMANG3</li>
  <li>ROBOTIS-THORMANG-msgs : ROS Messages used in the ROBOTIS THORMANG3 packages</li>
  <li>ROBOTIS-THORMANG-Too</li>
</ul>

<h3 id="mpc-installation"><a href="#mpc-installation">MPC Installation</a></h3>

<p>Install the ROBOTIS ROS Package from the MPC. The ROS Package is installed by default.</p>

<ol>
  <li>Download Packages from GitHub to the source folder in the catkin workspace.
    <div class="highlighter-rouge">
<pre class="highlight"><code> $ cd ~/catkin_ws/src
 $ git clone https://github.com/ROBOTIS-GIT/DynamixelSDK.git
 $ git clone https://github.com/ROBOTIS-GIT/ROBOTIS-Math.git
 $ git clone https://github.com/ROBOTIS-GIT/ROBOTIS-Framework.git
 $ git clone https://github.com/ROBOTIS-GIT/ROBOTIS-Framework-msgs.git
 $ git clone https://github.com/ROBOTIS-GIT/ROBOTIS-THORMANG-MPC.git
 $ git clone https://github.com/ROBOTIS-GIT/ROBOTIS-THORMANG-Common.git
 $ git clone https://github.com/ROBOTIS-GIT/ROBOTIS-THORMANG-msgs.git
 $ git clone https://github.com/ROBOTIS-GIT/ROBOTIS-THORMANG-Tools.git
</code></pre>
    </div>
  </li>
  <li>After installing all dependent packages, go to the workspace and build. Use j1 option when building for the first time.
    <div class="highlighter-rouge">
<pre class="highlight"><code> $ cd ~/catkin_ws
 $ catkin_make -j1
</code></pre>
    </div>
  </li>
  <li>
<img class="emoji" title=":heavy_exclamation_mark:" alt=":heavy_exclamation_mark:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/2757.png" height="20" width="20" align="absmiddle"> Find ft_calibration_data.yaml and ft_data.yaml from provided USB and copy them to thormang3_manager/config/.</li>
</ol>

<h3 id="ppc-installation"><a href="#ppc-installation">PPC Installation</a></h3>

<p>Install the ROBOTIS ROS Package from the PPC. The ROS Package is installed by default.</p>

<ol>
  <li>Download Packages from GitHub to the source folder in the catkin workspace.
    <div class="highlighter-rouge">
<pre class="highlight"><code> $ cd ~/catkin_ws/src
 $ git clone https://github.com/ROBOTIS-GIT/ROBOTIS-Framework-msgs.git
 $ git clone https://github.com/ROBOTIS-GIT/ROBOTIS-THORMANG-msgs.git
 $ git clone https://github.com/ROBOTIS-GIT/ROBOTIS-THORMANG-PPC.git
</code></pre>
    </div>
  </li>
  <li>After installing all dependent packages, go to the workspace and build. Use j1 option when building for the first time.
    <div class="highlighter-rouge">
<pre class="highlight"><code> $ cd ~/catkin_ws
 $ catkin_make -j1
</code></pre>
    </div>
  </li>
</ol>

<h3 id="opc-installation"><a href="#opc-installation">OPC Installation</a></h3>

<p>Install the ROBOTIS ROS Package from the OPC.</p>

<ol>
  <li>Download Packages from GitHub to the source folder in the catkin workspace.
    <div class="highlighter-rouge">
<pre class="highlight"><code> $ cd ~/catkin_ws/src
 $ git clone https://github.com/ROBOTIS-GIT/ROBOTIS-Framework-msgs.git
 $ git clone https://github.com/ROBOTIS-GIT/ROBOTIS-THORMANG-OPC.git
 $ git clone https://github.com/ROBOTIS-GIT/ROBOTIS-THORMANG-msgs.git
 $ git clone https://github.com/ROBOTIS-GIT/ROBOTIS-THORMANG-Common.git
</code></pre>
    </div>
  </li>
  <li>
    <p>After installing all dependent packages, go to the workspace and build. Use j1 option when building for the first time.</p>

    <p class="notice"><code class="highlighter-rouge">Note</code> Dependencies : qt-ros, map_server, nav_msgs, humanoid_nav_msgs, sbpl, octomap-ros</p>

    <p class="notice"><code class="highlighter-rouge">Note</code> sbpl needs to be installed manually. Please follow the <a href="https://github.com/sbpl/sbpl">sbpl install instruction</a>.</p>

    <div class="highlighter-rouge">
<pre class="highlight"><code> $ sudo apt install ros-kinetic-map-server
 $ sudo apt install ros-kinetic-humanoid-nav-msgs
 $ sudo apt install ros-kinetic-octomap ros-kinetic-octomap-msgs ros-kinetic-octomap-ros ros-kinetic-octomap-server
 $ sudo apt install ros-kinetic-qt-ros
 $ cd ~/catkin_ws/src
 $ git clone https://github.com/AravindaDP/humanoid_navigation.git
 $ cd ~/catkin_ws
 $ catkin_make -j1
</code></pre>
    </div>
  </li>
  <li>
    <p>Troubling Shot for <code class="highlighter-rouge">libGL</code> in 64bit Ubuntu</p>

    <p class="notice"><code class="highlighter-rouge">Note</code> Reference : <a href="http://techtidings.blogspot.kr/2012/01/problem-with-libglso-on-64-bit-ubuntu.html">Link</a></p>
  </li>
</ol>

<h3 id="update"><a href="#update">Update</a></h3>

<p>When the source is modified, update &amp; build is necessary.</p>

<ol>
  <li>Go to the folder where source is copied and run the pull command.(ex : ROBOTIS-THORMANG-OPC)
    <div class="highlighter-rouge">
<pre class="highlight"><code> $ cd ~/catkin_ws/src/ROBOTIS-THORMANG-OPC
 $ git pull
</code></pre>
    </div>
  </li>
  <li>Build
    <div class="highlighter-rouge">
<pre class="highlight"><code> $ cd ~/catkin_ws
 $ catkin_make
</code></pre>
    </div>
  </li>
</ol>

<h2 id="additional-ros-package-install"><a href="#additional-ros-package-install">Additional ROS Package Install</a></h2>

<p>The followings are required ROS Packages for THORMANG3 when installing desktop-full.</p>

<h3 id="ros-packages-for-mpc"><a href="#ros-packages-for-mpc">ROS Packages for MPC</a></h3>

<p>Install below ROS Packages from the MPC. The Package is installed by default.</p>

<h4 id="urg_node--ros-package-for-lidar">urg_node : ROS Package for Lidar</h4>
<div class="highlighter-rouge">
<pre class="highlight"><code>$ cd ~/catkin_ws/src
$ git clone https://github.com/ros-drivers/urg_node
$ git clone https://github.com/ros-drivers/urg_c
$ git clone https://github.com/ros-perception/laser_proc
</code></pre>
</div>

<p class="notice"><code class="highlighter-rouge">Note</code> Reference : http://wiki.ros.org/urg_node</p>

<h3 id="ros-packages-for-ppc"><a href="#ros-packages-for-ppc">ROS Packages for PPC</a></h3>
<p>Install the below ROS Package from the PPC. The Package is installed by default.</p>

<h4 id="uvc_camera--ros-package-for-usb-camera">uvc_camera : ROS Package for USB camera</h4>
<div class="highlighter-rouge">
<pre class="highlight"><code>$ sudo apt install libv4l-dev
$ cd ~/catkin_ws/src
$ git clone https://github.com/ktossell/camera_umd
</code></pre>
</div>

<p class="notice"><code class="highlighter-rouge">Note</code> Reference : http://wiki.ros.org/uvc_camera</p>

<h4 id="realsense">realsense</h4>
<p class="notice"><code class="highlighter-rouge">Note</code> Reference : http://wiki.ros.org/RealSense</p>


  </div>
</div>


    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-copyright">Â© 2017 ROBOTIS. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    <script src="https://robotis-git.github.io/emanual/assets/js/main.min.js"></script>





  </body>
</html>
