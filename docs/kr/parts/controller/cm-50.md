---
layout: archive
lang: kr
ref: cm-50
read_time: true
share: true
author_profile: false
permalink: /docs/kr/parts/controller/cm-50/
sidebar:
  title: CM-50
  nav: "cm-50"
---


![](/assets/images/parts/controller/cm-50/cm-50_product.png)

> CM-50 제어기

# [개요](#개요)
- 올로K와 PLAY 700에서 사용되는 제어기로, 각종 입출력장치 (적외선 센서, 적외선 수신기, 마이크, LED, 부저)가 내장되어 있습니다.
- CM-50 제어기는 로보티즈의 12mm 규격 제품과 호환됩니다.
- [로보플러스 매니저 2.0]으로 펌웨어 복구를 할 수 있습니다.
- [로보플러스 태스크 2.0], [로보플러스 블럭]으로 프로그램을 작성하여 제어기를 동작할 수 있습니다.
- CM-50 제어기는 로보플러스 모션을 지원하지 않습니다.

# [제품 사양](#제품-사양)

|     항목      |                                                사양                                                 |
|:-------------:|:---------------------------------------------------------------------------------------------------:|
|     무게      |                                                165g                                                 |
|   컨트롤러    |                                             STM32L151C8                                             |
|     크기      |                                       120 mm x 61 mm x 36 mm                                        |
|   동작 전압   |                                     3.2V ~ 4.8V (AA 배터리 x 3)                                     |
| 내부 I/O 장치 | 적외선 센서(거리 감지) x 3<br />마이크(소리 감지) x 1<br />부저 x 1<br />LED x 3 (전원, 빨강, 파랑) |
| 외부 I/O 포트 |                             4핀 통신 포트(무선 조종 및 다운로드용) x 1                              |

# [컨트롤 테이블](#컨트롤-테이블)

제어기의 컨트롤 테이블은 제어기의 상태를 보거나 제어기의 기능들을 작동시킬 수 있는 계기판으로 볼 수 있습니다. 컨트롤 테이블은 주소와 값으로 구성됩니다. 사용자는 컨트롤 테이블의 주소로 접근하여 해당 주소에 저장된 데이터를 읽어오거나 새로운 데이터를 입력할 수 있습니다.

## 영역(EEPROM, RAM)

컨트롤 테이블은 2개의 영역으로 구분됩니다. RAM 영역에 위치한 데이터는 전원이 인가될 때마다 다시 초기값으로 설정됩니다(Volatile). 반면 EEPROM 영역에 위치한 데이터는 값을 변경하면 전원이 꺼져도 그 값이 보존됩니다(Non-Volatile).

## 접근 속성(R, RW)

컨트롤 테이블의 데이터에는 2개의 접근 속성이 있습니다. ‘RW’는 읽기와 쓰기 접근이 모두 가능합니다. 반면 ‘R’은 읽기 전용(Read Only) 속성을 갖습니다.  
읽기 전용 속성의 데이터는 사용자가 임의로 값을 바꿀 수 없기 때문에 주로 측정 또는 모니터링 용도로 사용되고, 읽기 쓰기 속성(‘RW’)은 제어 용도로 사용됩니다.

## 초기값

제어기에 전원이 인가될 때 컨트롤 테이블의 각 데이터는 초기값으로 설정됩니다. 사용자가 초기값을 변경하면 새로운 초기값이 적용됩니다. RAM 영역의 초기값은 전원이 인가되었을 때 설정되는 값입니다.

## 크기

데이터의 크기는 용도에 따라 1, 2, 4[byte]로 정해져 있습니다. Instruction Packet을 통해 데이터를 변경할 때는 해당 데이터의 크기를 확인하시기 바랍니다.

### [EEPROM 영역](#eeprom-영역)

| 주소 | 크기[byte] |       데이터        |       설명       | 접근속성 | 초기값 |
|:----:|:----------:|:-------------------:|:----------------:|:--------:|:------:|
|  0   |     2      |    Model Number     |    모델 번호     |    R     |  410   |
|  6   |     1      |  Firmware Version   | 펌웨어 버전 정보 |    R     |   -    |
|  7   |     1      |         ID          |    제어기 ID     |    RW    |  200   |
|  8   |     1      |      Baud Rate      | 제어기 통신속도  |    R     |   1    |
|  9   |     1      |  Return Delay Time  |  응답 지연 시간  |    RW    |   0    |
|  10  |     1      | Status Return Level |    응답 레벨     |    RW    |   2    |

### [RAM 영역](#ram-영역)

| 주소 | 크기[byte] |             데이터              |              설명              | 접근속성 | 초기값 |
|:----:|:----------:|:-------------------------------:|:------------------------------:|:--------:|:------:|
|  21  |     1      |           Mode Number           |         현재 모드 번호         |    RW    |   -    |
|  25  |     1      |          Press Counter          |       시작버튼 눌림 횟수       |    R     |   -    |
|  30  |     2      |          My Zigbee ID           |        나의 무선모듈 ID        |    R     |   -    |
|  32  |     2      |         Your Zigbee ID          |        상대 무선모듈 ID        |    RW    |   -    |
|  36  |     1      |    IR Communication Channel     | 적외선(수신기) 통신 채널 번호  |    RW    |   1    |
|  73  |     1      |        128ms Timer Value        |        128ms 타이머 값         |    RW    |   0    |
|  74  |     2      |         1ms Timer Value         |         1ms 타이머 값          |    RW    |   0    |
|  76  |     1      |     Power Save Timer Value      |      자동 꺼짐 타이머 값       |    RW    |   0    |
|  77  |     1      |          Random Number          |          임의의 숫자           |    RW    |   -    |
|  79  |     1      |             RED LED             |        빨간색 LED 상태         |    RW    |   0    |
|  80  |     1      |            BLUE LED             |        파란색 LED 상태         |    RW    |   0    |
|  84  |     1      |          Buzzer Index           |     부저 음계/멜로디 번호      |    RW    |   0    |
|  85  |     1      |           Buzzer Time           |         부저 재생 시간         |    RW    |   0    |
|  86  |     1      |      Sound Detected Count       |      최종 소리 감지 횟수       |    R     |   0    |
|  87  |     1      |      Sound Detecting Count      |         소리 감지 횟수         |    R     |   0    |
|  88  |     1      |       Low Battery Warning       | 배터리 저전압 경고 활성화 상태 |    RW    |   0    |
|  91  |     2      | Internal Right IR Sensor Value  |  내장 우측 적외선센서 감지값   |    R     |   -    |
|  93  |     2      |  Internal Left IR Sensor Value  |  내장 좌측 적외선센서 감지값   |    R     |   -    |
|  95  |     2      | Internal Center IR Sensor Value | 내장 가운데 적외선센서 감지값  |    R     |   -    |
|  97  |     1      |          Input Voltage          |         현재 입력 전압         |    R     |   -    |
| 136  |     2      |       Port 1 Motor Speed        |       1번 모터 회전 속도       |    RW    |   -    |
| 138  |     2      |       Port 2 Motor Speed        |       2번 모터 회전 속도       |    RW    |   -    |

로보플러스 매니저 2.0을 통해서 제어기를 연결하면 컨트롤 테이블을 확인할 수 있습니다.
{: .notice}

# [각 부 명칭](#각-부-명칭)

- 시작 버튼 : 짧게 버튼을 눌러 켜면, 내부의 LED 에 불이 켜지며 제어기에 다운로드 한 프로그램이 실행됩니다.
- 적외선 센서 : 3개의 적외선 센서가 장착되어 있어 각 방향에서의 센서값을 이용하여 프로그래밍 할 수 있습니다.
- 4핀 포트 : 배터리 소켓 옆에 위치해 있으며, 적외선 수신기, ZIG-110A, [BT-210], [BT-410]등을 연결할 수 있습니다.

# [전원 연결](#전원-연결)
- CM-50은 AA 배터리 세 개를 사용하여 전원을 공급받습니다.

# [작동 방법](#작동-방법)

- 시작 버튼을 짧게 눌러 켜면, 전원 LED에 불이 켜지며 제어기에 다운로드한 프로그램이 실행됩니다.
- 처음 시작시 연속으로 버튼을 누른 횟수에 따라 [시작 버튼 눌림 횟수]가 증가합니다. 따라서 이 파라미터를 사용하여 프로그래밍 하면 CM-50을 작동시킬 때 시작 버튼을 누르는 횟수에 따라 각각 다른 행동을 하도록 할 수 있습니다.
- 시작 버튼을 1초 이상 눌러 켜면 “삐삐” (2회) 소리가 나고 내부의 LED에 불이 켜지며 제어기가 켜지고 다운로드 된 프로그램이 실행되지 않는 manage 모드에 진입합니다.
- 시작 버튼을 5초 이상 눌러 켜면 “삐삐삐” (3회) 소리가 나고 펌웨어 복구 모드로 진입합니다.
- 제어기가 켜진 상태에서 다시 시작 버튼을 누르면 제어기가 꺼집니다.

# [PC 연결](#pc-연결)
- CM-50 을 PC와 연결하기 위해서는 [BT-210] 또는 [BT-410] 또는 [LN-101]이 필요합니다.
- [BT-210]은 블루투스를 지원하는 PC와 연결할 때 사용할 수 있습니다.
- [BT-410]으로 PC와 연결하기 위해서는 [BT-410 동글]이 필요합니다.

# [무선 통신 모듈 연결하기](#무선-통신-모듈-연결하기)
- CM-50에는 [BT-210] / [BT-110] / [ZIG-110] / [BT-410] 무선 통신 모듈을 연결할 수 있습니다.

# [제어기 모드 선택](#제어기-모드-선택)

## [Play Mode](#play-mode)

- Play Mode는 제어기에 다운로드된 태스크 코드를 실행합니다.
- 제어기의 전원버튼을 짧게 눌렀다가 떼면, 로봇이 Play Mode로 시작합니다.

## [Manage Mode](#manage-mode)

- Manage Mode는 펌웨어 복구 및 업데이트 그리고 RC-200의 채널을 선택할 수 있습니다.
- 제어기가 꺼진상태에서, 전원버튼을 짧은 “삐삐” (2회) 소리가 날때까지 누르면, Manage Mode로 시작합니다.  

## [Tuning Mode](#tuning-mode)

- Tuning Mode는 좌우 바퀴의 직진성을 보정할 수 있습니다.
- Tuning Mode로 시작할 수 있는 2가지 방법이 있습니다. 선호하시는 방법을 사용해주세요.  

### [첫번째 방법](#첫번째-방법)

1. 흰 종이 또는 흰색 물체를 CM-50의 좌,우 적외선 센서에서 1cm정도 떨어진 거리에 배치합니다.  
2. 짧은 "삐삐" (2회) 소리가 들릴때 까지 제어기의 전원버튼을 눌러주세요.
3. 제어기에 저장된 0번 멜로디가 재생되고, Tuning Mode로 진입하게 됩니다.

**참고** : 짧은 "삐삐" (2회) 소리가 들린후, 곧바로 멜로디가 재생되지 않는다면 Manage Mode로 진입한 것입니다.  
전원버튼을 눌러 CM-50을 끄고, 다시 시작해주세요.
{: .notice}

**주의** : CM-50의 전원을 켜기전 [BT-210] 또는 [BT-410] Slave 모듈과 연결되어 있다면, 블루투스 모듈을 CM-50에서 분리해 주세요.  
블루투스 모듈이 CM-50과 미리 연결되어 있으면 Tuning Mode로 진입하지 않습니다.
{: .notice--warning}

### [두번째 방법](#두번째-방법)

1. CM-50의 전원을 켜주세요.
2. 전원이 켜진 후, 전원버튼을 길게 눌러 "삐~삐~삐" (3회) 소리가 났을 때 버튼을 놓아주세요.
3. 제어기에 저장된 0번 멜로디가 재생되고, Tuning Mode로 진입하게 됩니다.

**주의** : "삐삐삐" 소리가 나오는 동안, CM-50이 전원버튼을 인식할 수 있도록 충분한 힘으로 눌러주세요. 그렇지 않으면 중간에 전원이 꺼질 수 있습니다.
{: .notice--warning}

# [직진성 보정](#직진성-보정)

만약 Play Mode 에서 로봇이 안정적으로 앞으로 나가지 않고, 왼쪽 또는 오른쪽 방향으로 기울어서 움직인다면 Tuning Mode를 통해 직진성을 보정할 수 있습니다.  
좌, 우 모터의 속도를 무선조종기([RC-100B](#rc-100b), [RC-200](#rc-200), [스마트기기](#스마트기기))를 사용해서 보정할 수 있습니다.

{% capture notice01 %}  
**참고** : Tuning Mode를 사용하기 위해서는 제어기의 최신 펌웨어 업데이트(버전 77 이상)가 필요합니다.  
- [펌웨어 업데이트 매뉴얼 바로가기](/docs/kr/software/rplus2/manager/#펌웨어-업데이트)  
- [로보플러스 매니저 2.0 다운로드](http://en.robotis.com/service/download.php?no=8)  
{% endcapture %}
<div class="notice">{{ notice01 | markdownify }}</div>


## [RC-100B](#rc-100b)

1. [BT-210] 또는 [BT-410]모듈(Master/Slave 모듈)을 준비해주세요.
2. CM-50을 [Tuning Mode](#tuning-mode)로 시작해주세요.
3. CM-50에 [BT-210] 또는 [BT-410] Slave 모듈을 연결해주세요.
4. RC-100B에 [BT-210] 또는 [BT-410] Master 모듈을 연결해주세요.
5. 마지막으로 [튜닝 설명서](#튜닝-설명서)를 따라 모터의 속도를 튜닝 후 설정값을 저장해주세요.

## [RC-200](#rc-200)

RC-200은 제어기와 IR통신(적외선통신)을 통해 무선조종이 가능합니다.  
RC-200으로 제어기에 적절한 값을 보내기 위해서는 제어기와 RC-200의 채널번호를 맞춰야 합니다.   

1. CM-50을 [Manage Mode](#manage-mode)로 시작해주세요.
2. RC-200의 `2`, `4`, `7`, `8`, `9`번 버튼에 불이 들어올 때 까지, `V` 와 `↲` 버튼을 약 5초 동안 동시에 눌러주세요.
3. 사용하실 채널을 정한후(1~25), RC-200에 채널번호를 입력해주세요.
4. `↲` 버튼을 누르면 입력하신 채널이 저장됩니다.
5. 연결이 잘되었다면 "삐삐삐"소리가 3번 나게됩니다.
6. 튜닝을 하기위해 제어기를 [Tuning Mode](#tuning-mode)로 시작해주세요.
7. 마지막으로 [튜닝 설명서](#튜닝-설명서)를 따라 모터의 속도를 튜닝 후 설정값을 저장해주세요.

**참고** : RC-200을 사용하는 경우, 제어기의 정확한 송수신을 위해, RC-200을 제어기의 적외선 수신기로 향하게 해주세요.
{: .notice}

## [스마트 기기](#스마트-기기)

스마트 기기에 [로보플러스 모바일 태스크 2.0]{: .blank}을 설치하면, 스마트기기를 무선 조종기로 사용할 수 있습니다.  

1. [로보플러스 모바일 태스크 2.0]{: .blank}를 스마트 기기에 설치해주세요.
2. 제어기를 [Tuning Mode](#tuning-mode)로 시작해주세요.
3. [BT-210] 또는 [BT-410] Slave 모듈을 제어기에 연결해주세요.
4. R+ m.Task 2.0을 실행 후, [리모컨 프로그램]{: .blank}으로 CM-50제어기와 무선 연결을 해주세요.
5. 마지막으로 [튜닝 설명서](#튜닝-설명서)를 따라 모터의 속도를 튜닝 후 설정값을 저장해주세요.

**주의** : [BT-210]과 BT-110은 iOS 스마트 기기를 지원하지 않습니다.
{: .notice--warning}


## [튜닝 설명서](#튜닝-설명서)

{% capture notice03 %}
**참고**
- Tuning Mode로 진입하더라도 바퀴가 바로 움직이지 않습니다. 무선조종기의 `4`번 버튼을 누르면 바퀴가 움직입니다.  
- 제어기에 내장된 모터는 Tuning Mode에서 최고속도로 동작을 합니다.
- 사용자가 테스트를 반복해서 보정하면 직진성을 향상시킬 수 있습니다.
{% endcapture %}
<div class="notice">{{ notice03 | markdownify }}</div>

`L` 버튼 : 로봇의 방향을 왼쪽으로 기울여 보정합니다.    
`R` 버튼 : 로봇의 방향을 오른쪽으로 기울여 보정합니다.  
`1` 버튼 : 진행 방향을 전/후로 전환합니다.  

**주의** : `1` 버튼을 눌러, 좌우 바퀴의 전/후 방향 모두 튜닝하여 직진성을 보정해주세요.
{: .notice--warning}

`2` + `L` 버튼 : 로봇의 방향을 왼쪽으로 미세하게 기울여 보정합니다.  
`2` + `R` 버튼 : 로봇의 방향을 오른쪽으로 미세하게 기울여 보정합니다.  
`전원` 버튼 : 보정한 설정값을 저장 후, 전원이 꺼집니다.  



[로보플러스 블럭]: /docs/kr/software/rplus2/rplus2_block/
[로보플러스 모바일 태스크 2.0]: /docs/kr/software/rplus_mobile/mtask20/
[LN-101]: /docs/kr/parts/interface/ln-101/
[ZIG-110]: /docs/kr/parts/communication/zig-110/
[BT-110]: /docs/kr/parts/communication/bt-110/
[BT-210]: /docs/kr/parts/communication/bt-210/
[BT-410]: /docs/kr/parts/communication/bt-410/
[BT-410 동글]: /docs/kr/parts/communication/bt-410-dongle/
[로보플러스 태스크 2.0]: /docs/kr/software/rplus2/task/#시작하기
[로보플러스 매니저 2.0]: /docs/kr/software/rplus2/manager/
[시작 버튼 눌림 횟수]: /docs/kr/software/rplus1/task/programming_02/#시작버튼-눌림횟수
[RC-100B]: /docs/en/parts/communication/rc-100/
[리모컨 프로그램]: /docs/kr/software/rplus_mobile/mtask20/#리모컨-사용하기
